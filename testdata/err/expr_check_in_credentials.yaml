on: push

jobs:
  ok1:
    runs-on: ubuntu-latest
    container:
      image: ubuntu:latest
      credentials: ${{ fromJSON('{}') }}
    steps:
      - run: echo ok
  err1:
    runs-on: ubuntu-latest
    container:
      image: ubuntu:latest
      credentials: 'username:password'
    steps:
      - run: echo credentials must be a mapping
  err2:
    runs-on: ubuntu-latest
    container:
      image: ubuntu:latest
      credentials: ${{ 'username:password' }}
    steps:
      - run: echo credentials value must be an object
